{"version":3,"sources":["data/data.js","index.js"],"names":["questions","sort","Math","random","bridge","send","Quiz","props","state","activeView","currentStep","answers","this","setState","correct","i","length","answer","currentQuestion","currentQuestionAnswered","slice","finished","align","onClick","nextQuestion","style","display","maxWidth","marginLeft","marginRight","size","stretched","answerQuestion","activePanel","id","paddingTop","paddingBottom","ReactImageMagnify","width","smallImage","src","image","isFluidWidth","sizes","largeImage","height","lensStyle","backgroundColor","hintTextTouch","hintTextMouse","isHintEnabled","enlargedImagePosition","renderQuestionButtons","left","returnToQuestion","currentAnswerIsCorrect","descriptionTrue","descriptionFalse","description","detailImage","calculateCorrectAnswers","returnToBeginning","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a2cf5c49.chunk.js","sourcesContent":["let questions = [\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Если присмотреться, маленькая буква G справа выдает продукцию мануфактуры Гобеленов.\",\n    \"detailImage\": \"img/fragments/гобелен1fr.png\",\n    \"image\": \"img/preview_гобелен1.png\"\n  },\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Три золотые лилии на синем фоне под короной — этот знак французской королевской власти имела право размещать на своих коврах только Королевская мнуфактура Гобеленов.\",\n    \"detailImage\": \"img/fragments/гобелен2fr.png\",\n    \"image\": \"img/preview_гобелен2.png\"\n  },\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Переплетающиеся буквы L -  вензель французского короля Людовика XIV — нередко размещались на гобеленах второй половины XVII века.\",\n    \"detailImage\": \"img/fragments/гобелен3fr.png\",\n    \"image\": \"img/preview_гобелен3.png\"\n  },\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Российской двуглавый орел на раме не должен вводить в заблуждение. Он напоминает о том, что шпалера «Кресница фей» была приподнесена французским правительством российскому императору Николаю II по случаю его коронации. А изготовлен этот ковер на мануфактуре Гобеленов, о чем говорит буква G в углу рамы.\",\n    \"detailImage\": \"img/fragments/гобелен5fr1.png\",\n    \"image\": \"img/preview_гобелен5.png\"\n  },\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Французская королевская лилия, вытканная в углу обрамления, позволяет без труда отличить продукцию Королевской мануфактуры Гобеленов.\",\n    \"detailImage\": \"img/fragments/гобелен6fr.png\",\n    \"image\": \"img/preview_гобелен6.png\"\n  },\n  {\n    \"answer\": true,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Солнце и французская лилия  отличают продукцию мануфактуры Гобеленов времен короля-Солнца Людовика XIV.\",\n    \"detailImage\": \"img/fragments/гобелен7fr.png\",\n    \"image\": \"img/preview_гобелен7.png\"\n  },\n  {\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Переплетающиеся буквы EP — вензель российской императрицы Елизаветы Петровны — подсказывают, что перед нами русская шпалера XVIII века.\",\n    \"detailImage\": \"img/fragments/не гобелен1fr.png\",\n    \"image\": \"img/preview_не гобелен1.png\"\n  },\n  {\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Уплощенное пространство и фигуры, расположенные в несколько ярусов — такие композиции типичны для фламандских ковров XVI  века — за столетие до основания мануфактуры Гобеленов\",\n    \"detailImage\": \"img/fragments/не гобелен1fr.png\",\n    \"detailImage\": \"img/fragments/гобелен2fr.png\",\n    \"image\": \"img/preview_не гобелен2.png\"\n  },\n  {\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"На этом ковре нет опознавательных знаков, но тяжелые фруктовые гирлянды и пышные дамы во вкусе Рубенса выдают руку фламандского мастера XVII века.\",\n    \"detailImage\": \"img/fragments/не гобелен3fr.png\",\n    \"image\": \"img/preview_не гобелен3.png\"\n  },\n  {\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Это же Мильфлёр — ковер с однотонным фоном, усеянным цветами. Такие ковры изготавливали во Франции за сотню лет до основания мануфактуры Гобеленов.\",\n    \"detailImage\": \"img/fragments/не гобелен4fr.png\",\n    \"image\": \"img/preview_не гобелен4.png\"\n  },\n{\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Хотя стиль ковра очевидно восходит к французским шпалерам эпохи Возрождения, из пространной надписи сверху мы узнаем, что это изделие английской фирмы XIX века \\\"William Morris & Co\\\", созданное по картону Эдварда Коли Бёрн-Джонса.\",\n    \"detailImage\": \"img/fragments/не гобелен5fr.png\",\n    \"image\": \"img/preview_не гобелен5.png\"\n  },\n{\n    \"answer\": false,\n    \"descriptionTrue\": \"Правильно\",\n    \"descriptionFalse\": \"Неправильно\",\n    \"description\": \"Буквы BB в нижней части бюрдюра означают \\\"Брюссель.Брабант\\\" и напоминают о том, что перед нами фламандская шпалера.\",\n    \"detailImage\": \"img/fragments/не гобелен6fr.png\",\n    \"image\": \"img/preview_не гобелен6.png\"\n}\n];\nquestions.sort(() => Math.random() - 0.5);\nexport {questions};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  Button,\n  Div,\n  Root,\n  CellButton,\n  View,\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  Header,\n  Group,\n  Cell,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { questions } from \"./data/data\";\nimport ReactImageMagnify from \"react-image-magnify\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nbridge.send(\"VKWebAppInit\", {});\n\nclass Quiz extends React.Component {\n  constructor(props) {\n    super(props);\n    this.questions = questions;\n\n    this.state = {\n      activeView: \"introView\",\n      currentStep: 0,\n      answers: [],\n    };\n  }\n\n  returnToBeginning() {\n    this.setState({\n      activeView: \"introView\",\n      currentStep: 0,\n      answers: []\n    });\n  }\n\n  calculateCorrectAnswers() {\n    let correct = 0;\n    for (let i = 0; i < this.state.answers.length; i++) {\n      if (this.state.answers[i] === questions[i].answer) {\n        correct++;\n      }\n    }\n    return correct;\n  }\n\n  currentAnswerIsCorrect() {\n    const currentQuestion = questions[this.state.currentStep];\n    return (\n      this.currentQuestionAnswered() &&\n      this.state.answers[this.state.answers.length - 1] ===\n      currentQuestion.answer\n    );\n  }\n\n  finished() {\n    return this.questions.length <= this.state.currentStep + 1;\n  }\n\n  currentQuestionAnswered() {\n    return this.state.answers.length > this.state.currentStep;\n  }\n\n  answerQuestion(answer) {\n    let answers = this.state.answers.slice();\n    answers[answers.length] = answer;\n    this.setState({\n      answers: answers,\n      activeView: \"answerView\",\n    });\n  }\n\n  nextQuestion() {\n    debugger;\n    if (this.finished()) {\n      this.setState({\n        activeView: 'summaryView'\n      });\n    } else {\n      this.setState({\n        activeView: 'questionView',\n        currentStep: this.state.currentStep + 1,\n      });\n    }\n  }\n\n  returnToQuestion() {\n    this.setState({\n      activeView: \"questionView\",\n    });\n  }\n\n  renderQuestionButtons() {\n    if (this.currentQuestionAnswered()) {\n      return (\n        <CellButton\n          align=\"center\"\n          // style={{\n          //   display: \"block\",\n          //   marginLeft: \"auto\",\n          //   marginRight: \"auto\",\n          // }}\n          onClick={() => this.nextQuestion()}\n        >\n          Следующий вопрос\n        </CellButton>\n      );\n    } else {\n      return (\n        <Div\n          style={{\n            display: \"flex\",\n            maxWidth: \"550px\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n          }}\n        >\n          <Button\n            size=\"m\"\n            stretched\n            style={{ marginRight: 8 }}\n            onClick={() => this.answerQuestion(true)}\n          >\n            Да\n          </Button>\n          <Button size=\"m\" stretched onClick={() => this.answerQuestion(false)}>\n            Нет\n          </Button>\n        </Div>\n      );\n    }\n  }\n\n  render() {\n    const currentQuestion = questions[this.state.currentStep];\n    return (\n      <Root activeView={this.state.activeView}>\n        <View activePanel=\"introPanel\" id=\"introView\">\n          <Panel id=\"introPanel\">\n            <PanelHeader>Гобелены</PanelHeader>\n            <Div style={{ paddingTop: 60, paddingBottom: 60, maxWidth: 600, display: 'block', marginLeft: 'auto', marginRight: 'auto' }}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed a\n              sollicitudin lectus, a commodo sapien. Vivamus a urna leo. Integer\n              iaculis dignissim urna, sit amet vestibulum diam bibendum a. Donec\n              eu arcu ut augue porttitor faucibus. Vestibulum nec pretium\n              tortor, sit amet congue nunc. Aenean ullamcorper ex sem, sed\n              interdum quam consequat et. Vestibulum a ex non diam fringilla\n              feugiat. Nunc eu tellus sed leo elementum cursus. Mauris blandit\n              porta egestas.\n            </Div>\n            <Group>\n              {/* <CellButton onClick={ () => this.setState({ activeView: 'view2' }) }> */}\n              <CellButton align=\"center\"\n                onClick={() => this.setState({ activeView: \"questionView\" })}\n              >\n                Пройти тест\n              </CellButton>\n            </Group>\n          </Panel>\n        </View>\n        <View activePanel=\"questionPanel\" id=\"questionView\">\n          <Panel id=\"questionPanel\">\n            <PanelHeader>Это гобелен?</PanelHeader>\n            <Group>\n              <Div style={{ display: \"flex\" }}>\n                <ReactImageMagnify\n                  style={{\n                    width: \"90%\",\n                    maxWidth: \"600px\",\n                    display: \"block\",\n                    marginLeft: \"auto\",\n                    marginRight: \"auto\",\n                  }}\n                  {...{\n                    smallImage: {\n                      src: currentQuestion.image,\n                      isFluidWidth: true,\n                      sizes:\n                        \"(max-width: 480px) 100vw, (max-width: 1200px) 30vw, 360px\",\n                    },\n                    largeImage: {\n                      src: currentQuestion.image,\n                      width: 1000,\n                      height: 1000,\n                    },\n                    lensStyle: { backgroundColor: \"rgba(0,0,0,.6)\" },\n                    hintTextTouch:\n                      \"Нажмите и удерживайте на изображении для увеличения\",\n                    hintTextMouse:\n                      \"Наведите курсор на изображение для увеличения\",\n                    isHintEnabled: true,\n                    enlargedImagePosition: \"over\",\n                  }}\n                ></ReactImageMagnify>\n              </Div>\n              {this.renderQuestionButtons()}\n            </Group>\n          </Panel>\n        </View>\n        <View activePanel=\"answerPanel\" id=\"answerView\">\n          <Panel id=\"answerPanel\">\n            <PanelHeader\n              left={<PanelHeaderBack onClick={() => this.returnToQuestion()} />}\n            >\n              {this.currentAnswerIsCorrect()\n                ? currentQuestion.descriptionTrue\n                : currentQuestion.descriptionFalse}\n              !\n            </PanelHeader>\n            <Div style={{ paddingTop: 60, paddingBottom: 60, maxWidth: 600, display: 'block', marginLeft: 'auto', marginRight: 'auto' }}>\n              {currentQuestion.description}\n            </Div>\n            <Div style={{display: 'flex', marginLeft: 'auto', marginRight: 'auto'}}>\n              <img style={{display: 'flex', marginLeft: 'auto', marginRight: 'auto'}} src={currentQuestion.detailImage}/>\n            </Div>\n            <CellButton align='center' onClick={() => this.nextQuestion()}>Следующий вопрос</CellButton>\n          </Panel>\n        </View>\n        <View activePanel=\"summaryPanel\" id=\"summaryView\">\n          <Panel id=\"summaryPanel\">\n            <PanelHeader>\n              Правильных ответов: {this.calculateCorrectAnswers()} / {this.state.answers.length}\n            </PanelHeader>\n            <Div style={{ paddingTop: 60, paddingBottom: 60, maxWidth: 600, display: 'block', marginLeft: 'auto', marginRight: 'auto' }}>\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed a\n              sollicitudin lectus, a commodo sapien. Vivamus a urna leo. Integer\n              iaculis dignissim urna, sit amet vestibulum diam bibendum a. Donec\n              eu arcu ut augue porttitor faucibus. Vestibulum nec pretium\n              tortor, sit amet congue nunc. Aenean ullamcorper ex sem, sed\n              interdum quam consequat et. Vestibulum a ex non diam fringilla\n              feugiat. Nunc eu tellus sed leo elementum cursus. Mauris blandit\n              porta egestas.\n            </Div>\n            <CellButton align='center' onClick={() => this.returnToBeginning()}>В начало</CellButton>\n          </Panel>\n        </View>\n      </Root>\n    );\n  }\n}\n\nReactDOM.render(<Quiz />, document.getElementById(\"root\"));\n"],"sourceRoot":""}